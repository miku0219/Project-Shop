<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>隨便觀</title>
    <link rel="stylesheet" href="../static/css/style.css">
</head>
<body>

    <!-- 🔹 NAVBAR -->
    <nav class="navbar">
        <div class="logo">隨便觀</div>
        <ul class="menu">
            <li class="dropdown">
                商品分類
                <ul class="dropdown-menu">
                    <li><a href="/" data-level="">全部</a></li>
                    <li><a href="/" data-level="一般">一般</a></li>
                    <li><a href="/" data-level="精淬">精淬</a></li>
                </ul>
            </li>
            <li class="dropdown">
                個人專區
                <ul class="dropdown-menu">
                    <li><a href="/cart">購物車</a></li>
                    <li><a href="/orders">歷史訂單</a></li>
                    <li><a href="#">修改密碼</a></li>
                </ul>
            </li>
        </ul>

        <div class="user-info">
            <span id="userArea"></span>
        </div>
    </nav>

    <div class="container">

        <!-- 🔹 篩選區域 -->
        <aside class="sidebar">
            <h3>篩選</h3>
            <label>種類：</label>
            <select id="filterCategory">
                <option value="">全部</option>
                <option value="本草方劑">本草方劑</option>
                <option value="遊方巧器">遊方巧器</option>
                <option value="器引百味">器引百味</option>
                <option value="虛室坐修">虛室坐修</option>
                <option value="素裳嶽履">素裳嶽履</option>
                <option value="節禮賀幛">節禮賀幛</option>
            </select>
            <br>
            <label>價格上限：$<span id="priceDisplay">0</span></label>
            <input type="range" id="filterPrice" min="0" max="1000" step="1" value="1000">
            <br>
            <button id="applyFilter">確認</button>
            <hr>
            <label>排序方式：</label>
            <select id="sortOption">
                <option value="">— 不排序 —</option>
                <option value="price_low">價格：低 ➝ 高</option>
                <option value="price_high">價格：高 ➝ 低</option>
            </select>
        </aside>

        <!-- 🔹 商品區 -->
        <main class="product-area">
            <table class="product-table">
                <thead>
                    <tr>
                        <th></th>
                        <th>名稱</th>
                        <th>種類</th>
                        <th>庫存</th>
                        <th>價格</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody id="productList">
                    <!-- JS 動態載入 -->
                </tbody>
            </table>
        </main>
    </div>

    <!-- 🔹 商品簡介 Modal -->
    <div id="productModal" class="modal">
        <div class="modal-content product-modal">
            <span class="close" id="modalClose">&times;</span>
            <h2 id="modalName" class="modal-title"></h2>
            <div class="modal-body">
                <img id="modalImg" class="modal-img">
                <p id="modalDesc" class="modal-desc"></p>
            </div>
        </div>
    </div>

    <!-- 🔹 加入購物車 Modal -->
    <div id="cartModal" class="modal">
        <div class="modal-content cart-modal">
            <span class="close" id="cartClose">&times;</span>
            <h2 class="modal-title">加入購物車</h2>
            <div class="cart-body">
                <img id="cartImg" class="cart-img">
                <div class="cart-info">
                    <p class="cart-name" id="cartProductName"></p>
                    <label>數量：</label>
                    <div style="display:flex; gap:10px; align-items:center;">
                        <button type="button" id="btnDecrease">−</button>
                        <input type="number" id="quantityInput" value="1" min="1">
                        <button type="button" id="btnIncrease">+</button>
                    </div>
                    <p>小計：$<span id="subtotal">0</span></p>
                    <button id="confirmAdd">確認加入</button>
                </div>
            </div>
        </div>
    </div>

    <script src="../static/js/script.js"></script>

</body>
</html>
