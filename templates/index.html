<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>隨便觀</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>

    <nav class="navbar">
        <a href="/" class="logo">隨便觀</a>
        <ul class="menu">
            <li class="dropdown">
                商品分類
                <ul class="dropdown-menu">
                    <li><a href="#" class="filter-level" data-level="">全部</a></li>
                    <li><a href="#" class="filter-level" data-level="一般">一般</a></li>
                    <li><a href="#" class="filter-level" data-level="精淬">精淬</a></li>
                </ul>
            </li>
            <li class="dropdown">
                個人專區
                <ul class="dropdown-menu">
                    <li><a href="/cart">購物車</a></li>
                    <li><a href="/orders">歷史訂單</a></li>
                    <li><a href="/login?mode=profile">修改資料</a></li>
                </ul>
            </li>
        </ul>

        <div class="user-info">
            <span id="userArea"></span>
        </div>
    </nav>

    <div class="container">

        <aside class="sidebar">
            <h3>篩選</h3>
            <label for="filterCategory">種類：</label>
            <select id="filterCategory">
                <option value="">全部</option>
                <option value="本草方劑">本草方劑</option>
                <option value="遊方巧器">遊方巧器</option>
                <option value="器引百味">器引百味</option>
                <option value="虛室坐修">虛室坐修</option>
                <option value="素裳嶽履">素裳嶽履</option>
                <option value="節禮賀幛">節禮賀幛</option>
            </select>
            <br><br>
            
            <label>價格上限：$<span id="priceDisplay">1000</span></label>
            <input type="range" id="filterPrice" min="0" max="1000" step="10" value="1000">
            <br><br>
            
            <button id="applyFilter">確認篩選</button>
            <hr>
            
            <label for="sortOption">排序方式：</label>
            <select id="sortOption">
                <option value="">— 不排序 —</option>
                <option value="price_low">價格：低 ➝ 高</option>
                <option value="price_high">價格：高 ➝ 低</option>
            </select>
        </aside>

        <main class="product-area">
            <table class="product-table">
                <thead>
                    <tr>
                        <th colspan="2">名稱</th>
                        <th>種類</th>
                        <th>數量</th>
                        <th>價格</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody id="productList">
                    <tr>
                        <td colspan="6" style="text-align:center; padding: 50px;">正在尋找珍寶...</td>
                    </tr>
                </tbody>
            </table>
        </main>
    </div>

    <div id="productModal" class="modal">
        <div class="modal-content product-modal">
            <span class="close" id="modalClose">&times;</span>
            <h2 id="modalName" class="modal-title"></h2>
            <div class="modal-body">
                <img id="modalImg" class="modal-img" alt="商品圖片">
                <p id="modalDesc" class="modal-desc"></p>
            </div>
        </div>
    </div>

    <div id="cartModal" class="modal">
        <div class="modal-content cart-modal">
            <span class="close" id="cartClose">&times;</span>
            <h2 class="modal-title">加入購物車</h2>
            <div class="cart-body">
                <img id="cartImg" class="cart-img" alt="商品圖片">
                <div class="cart-info">
                    <p class="cart-name" id="cartProductName"></p>
                    <label>選購數量：</label>
                    <div class="qty-control" style="display:flex; gap:10px; align-items:center; margin: 10px 0;">
                        <button type="button" id="btnDecrease" class="qty-btn">-</button>
                        <input type="number" id="quantityInput" value="1" min="1" style="width: 100px; text-align: center;">
                        <button type="button" id="btnIncrease" class="qty-btn">+</button>
                    </div>
                    <p>小計：<strong style="color: #a57c14ff;">$<span id="subtotal">0</span></strong></p>
                    <button id="confirmAdd" class="btn-primary">確認加入</button>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/js/script.js"></script>

</body>
</html>